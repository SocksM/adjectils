<!DOCTYPE html>
  <html lang = "en">
    <head>
      <title>adjectils - Garden</title>
      <link rel="stylesheet" href="stylesheet.css">
      <meta name = "description" content = "Botanical utilities for Hypixel SkyBlock">
      <meta name = "author" content = "adjective_n0un">
      <meta name = "viewport" content="width=device-width, initial-scale=0.6">
      <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
      <link rel="manifest" href="./favicon/site.webmanifest">
      <script type="text/javascript" src="/jquery-3.6.3.min.js"></script>
    </head>
  <body onload="updatePage()">
  
      <script>
      $(function(){
        $("#nav").load("nav.html", function() { setWord(); }); 
      });
      </script>
  <div style = "text-align:center; margin: auto"> 
    <span class = adjheader>adjectils</span><span class = header>&nbsp;|&nbsp;</span><span class = header style = "color:#40c040">Garden</span><br>
  </div>
  <div style = "text-align:center">
    <label>Username: <input type = "text" id = "nameinput" onchange = updateUser(value)>&nbsp;</label><button onclick = updateUser(nameinput.value) style = "width: 80px;  text-align:center">Refresh ‚ü≥</button><br>
    <span id = "refreshstatus"></span><br>
    <span id = "status"></span><br>
    <span id = "otherstatus"></span><br>
  <div>

    <section class = "flex_box_index">
        <div class = "flex_index_row">
            <div class = "flex_index_box">
                
            </div>
        </div>
    </section>
    <div id = "nav" style = "width:min(calc(100% - 30px), max(600px, 40%)); margin: auto" class = "hub_block"></div>
    </body>
    <script>
        function updatePage(){
            
        }
        function reset(){
          
        }
        async function updateUser(name){
          reset();
          console.log("Last name: " + lastname + " New name: " + name);
          if (onCD == true){
              document.getElementById("refreshstatus").innerText = "Please wait 5 seconds before using this again.";
              console.log("On cooldown!");
              return -1;
          } else {
              document.getElementById("refreshstatus").innerText = "";
              if (!fasttrack){
                  onCD = true;
                  setTimeout(() => { onCD = false }, 5000);
              }
              
          }
          UUID = await getUUIDbyName(name);
          if (UUID == -1){
              return -1;
          }
          if (!fasttrack){
              data = await getAPIdata(UUID);
              console.log(data);
          } 
          updateProfiles(data);
              lastname = name;
              fasttrack = false;
              localStorage.setItem("storedname", name);
              console.log("Set item " + localStorage.getItem("storedname"));
              localStorage.setItem("storeddata", JSON.stringify(data)); 
              console.log("Set item " + localStorage.getItem("storeddata"));
        }
    </script>